{"version":3,"sources":["Components/Button.js","Components/Controls.js","Components/Canvas.js","App.js","index.js"],"names":["Button","props","className","btnStyle","btnSize","btnColour","onClick","text","Controls","id","onStart","onStop","Canvas","canvasRef","useRef","gridRef","intervalRef","cellSize","updateSpeed","generationUpdate","grid","cols","rows","nextGen","map","eachRow","row","col","neighbours","i","j","neighbourCol","neighbourRow","currCell","draw","context","length","cell","fillStyle","fillRect","strokeStyle","strokeRect","update","current","canvas","getContext","Math","floor","width","height","clearInterval","useEffect","offsetWidth","offsetHeight","Array","fill","random","buildGrid","updateInterval","setInterval","requestAnimationFrame","ref","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sMAaeA,MAXf,SAAgBC,GACd,OACE,wBACEC,UAAS,cAASD,EAAME,SAAf,YAA2BF,EAAMG,QAAjC,YAA4CH,EAAMI,WAC3DC,QAASL,EAAMK,QAFjB,SAIGL,EAAMM,QCmBEC,MAxBf,SAAkBP,GAChB,OACE,sBAAKC,UAAU,WAAf,UACE,cAAC,EAAD,CACEO,GAAG,eACHN,SAAS,aACTC,QAAQ,aACRC,UAAU,OACVE,KAAK,QACLD,QAASL,EAAMS,UAGjB,cAAC,EAAD,CACED,GAAG,eACHN,SAAS,aACTC,QAAQ,aACRC,UAAU,OACVE,KAAK,OACLD,QAASL,EAAMU,aCqHRC,MAvIf,SAAgBX,GACd,IAAMY,EAAYC,iBAAO,MACnBC,EAAUD,iBAAO,MACjBE,EAAcF,iBAAO,MACrBG,EAAW,GAGXC,EAAc,MAapB,SAASC,EAAiBC,EAAMC,EAAMC,GAGpC,IAFA,IAAMC,EAAUH,EAAKI,KAAI,SAACC,GAAD,mBAAiBA,MAEjCC,EAAM,EAAGA,EAAMJ,EAAMI,IAC5B,IAAK,IAAIC,EAAM,EAAGA,EAAMN,EAAMM,IAAO,CAInC,IAHA,IAAIC,EAAa,EAGRC,GAAK,EAAGA,GAAK,EAAGA,IACvB,IAAK,IAAIC,GAAK,EAAGA,GAAK,EAAGA,IACvB,GAAU,IAAND,GAAiB,IAANC,EAAf,CAGA,IAAMC,EAAeJ,EAAME,EACrBG,EAAeN,EAAMI,EAEzBC,GAAgB,GAChBA,EAAeV,GACfW,GAAgB,GAChBA,EAAeV,IAEfM,GAAcR,EAAKY,GAAcD,IAMvC,IAAME,EAAWb,EAAKM,GAAKC,GACV,IAAbM,IAAmBL,EAAa,GAAKA,EAAa,GACpDL,EAAQG,GAAKC,GAAO,EACE,IAAbM,GAAiC,IAAfL,IAC3BL,EAAQG,GAAKC,GAAO,GAI1B,OAAOJ,EAGT,SAASW,EAAKC,EAASf,GACrB,IAAK,IAAIM,EAAM,EAAGA,EAAMN,EAAKgB,OAAQV,IACnC,IAAK,IAAIC,EAAM,EAAGA,EAAMP,EAAKM,GAAKU,OAAQT,IAAO,CAC/C,IAAMU,EAAOjB,EAAKM,GAAKC,GACvBQ,EAAQG,UAAYD,EAxDR,QADD,QA0DXF,EAAQI,SAASZ,EAAMV,EAAUS,EAAMT,EAAUA,EAAUA,GAC3DkB,EAAQK,YAAc,OACtBL,EAAQM,WAAWd,EAAMV,EAAUS,EAAMT,EAAUA,EAAUA,IASnE,SAASyB,IACP,IAAItB,EAAOL,EAAQ4B,QACbC,EAAS/B,EAAU8B,QAKzBT,EAJgBU,EAAOC,WAAW,MAGlCzB,EAAOD,EAAiBC,EAFX0B,KAAKC,MAAMH,EAAOI,MAAQ/B,GAC1B6B,KAAKC,MAAMH,EAAOK,OAAShC,KAGxCF,EAAQ4B,QAAUvB,EAwCpB,SAAST,IACPuC,cAAclC,EAAY2B,SAG5B,OAxCAQ,qBAAU,WACR,IAAMP,EAAS/B,EAAU8B,QACnBR,EAAUS,EAAOC,WAAW,MAClCD,EAAOI,MAAQJ,EAAOQ,YACtBR,EAAOK,OAASL,EAAOS,aAEvB,IAAMhC,EAAOyB,KAAKC,MAAMH,EAAOI,MAAQ/B,GACjCK,EAAOwB,KAAKC,MAAMH,EAAOK,OAAShC,GAEpCG,EArFN,SAAmBC,EAAMC,GAMvB,OALkB,IAAIgC,MAAMhC,GACzBiC,KAAK,MACL/B,KAAI,kBACH,IAAI8B,MAAMjC,GAAMkC,KAAK,MAAM/B,KAAI,kBAAMsB,KAAKC,MAAsB,EAAhBD,KAAKU,gBAiF9CC,CAAUpC,EAAMC,GAK3B,SAASoB,IACPtB,EAAOD,EAAiBC,EAAMC,EAAMC,GACpCY,EAAKC,EAASf,GACdL,EAAQ4B,QAAUvB,EAPpBL,EAAQ4B,QAAUvB,EAElBc,EAAKC,EAASf,GAQd,IAAMsC,EAAiBC,aAAY,WACjCC,sBAAsBlB,KACrBxB,GAGH,OAFAF,EAAY2B,QAAUe,EAEf,kBAAMR,cAAcQ,MAC1B,IAeD,sBAAKxD,UAAU,OAAf,UACE,oCAAQO,GAAG,SAASoD,IAAKhD,GAAeZ,IACxC,+CAAkBiB,EAAlB,UACA,cAAC,EAAD,CAAUR,QAhBd,WACEC,IACA,IAAM+C,EAAiBC,aAAY,WACjCC,sBAAsBlB,KACrBxB,GACHF,EAAY2B,QAAUe,GAWQ/C,OAAQA,QCzH3BmD,MATf,WACE,OACE,sBAAK5D,UAAU,MAAf,UACE,uDACA,cAAC,EAAD,QCFN6D,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.04b6ede7.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Button(props) {\r\n  return (\r\n    <button\r\n      className={`btn ${props.btnStyle} ${props.btnSize} ${props.btnColour}`}\r\n      onClick={props.onClick}\r\n    >\r\n      {props.text}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Button from \"./Button\";\r\n\r\nfunction Controls(props) {\r\n  return (\r\n    <div className=\"controls\">\r\n      <Button\r\n        id=\"button-start\"\r\n        btnStyle=\"btn--round\"\r\n        btnSize=\"btn--small\"\r\n        btnColour=\"blue\"\r\n        text=\"Start\"\r\n        onClick={props.onStart}\r\n      />\r\n\r\n      <Button\r\n        id=\"button-start\"\r\n        btnStyle=\"btn--round\"\r\n        btnSize=\"btn--small\"\r\n        btnColour=\"blue\"\r\n        text=\"Stop\"\r\n        onClick={props.onStop}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Controls;\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport Controls from \"./Controls\";\r\n\r\nfunction Canvas(props) {\r\n  const canvasRef = useRef(null);\r\n  const gridRef = useRef(null);\r\n  const intervalRef = useRef(null);\r\n  const cellSize = 10;\r\n  const deadCell = \"white\";\r\n  const aliveCell = \"black\";\r\n  const updateSpeed = \"500\";\r\n\r\n  // build grid and init cell values (dead/alive)\r\n  function buildGrid(cols, rows) {\r\n    const gridArray = new Array(rows)\r\n      .fill(null)\r\n      .map(() =>\r\n        new Array(cols).fill(null).map(() => Math.floor(Math.random() * 2))\r\n      );\r\n    return gridArray;\r\n  }\r\n\r\n  // update grid based on the rules\r\n  function generationUpdate(grid, cols, rows) {\r\n    const nextGen = grid.map((eachRow) => [...eachRow]);\r\n\r\n    for (let row = 0; row < rows; row++) {\r\n      for (let col = 0; col < cols; col++) {\r\n        let neighbours = 0;\r\n\r\n        // check adjacent cells\r\n        for (let i = -1; i <= 1; i++) {\r\n          for (let j = -1; j <= 1; j++) {\r\n            if (i === 0 && j === 0) {\r\n              continue;\r\n            }\r\n            const neighbourCol = col + i;\r\n            const neighbourRow = row + j;\r\n            if (\r\n              neighbourCol >= 0 &&\r\n              neighbourCol < cols &&\r\n              neighbourRow >= 0 &&\r\n              neighbourRow < rows\r\n            ) {\r\n              neighbours += grid[neighbourRow][neighbourCol];\r\n            }\r\n          }\r\n        }\r\n\r\n        // update for next generation\r\n        const currCell = grid[row][col];\r\n        if (currCell === 1 && (neighbours < 2 || neighbours > 3)) {\r\n          nextGen[row][col] = 0;\r\n        } else if (currCell === 0 && neighbours === 3) {\r\n          nextGen[row][col] = 1;\r\n        }\r\n      }\r\n    }\r\n    return nextGen;\r\n  }\r\n\r\n  function draw(context, grid) {\r\n    for (let row = 0; row < grid.length; row++) {\r\n      for (let col = 0; col < grid[row].length; col++) {\r\n        const cell = grid[row][col];\r\n        context.fillStyle = cell ? aliveCell : deadCell;\r\n        context.fillRect(col * cellSize, row * cellSize, cellSize, cellSize);\r\n        context.strokeStyle = \"grey\";\r\n        context.strokeRect(col * cellSize, row * cellSize, cellSize, cellSize);\r\n      }\r\n    }\r\n  }\r\n\r\n  // function clearCanvas(context) {\r\n  //   context.clearRect(0, 0, context.canvas.width, context.canvas.height);\r\n  // }\r\n\r\n  function update() {\r\n    let grid = gridRef.current;\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext(\"2d\");\r\n    const cols = Math.floor(canvas.width / cellSize);\r\n    const rows = Math.floor(canvas.height / cellSize);\r\n    grid = generationUpdate(grid, cols, rows);\r\n    draw(context, grid);\r\n    gridRef.current = grid;\r\n  }\r\n\r\n  // run once on mount\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext(\"2d\");\r\n    canvas.width = canvas.offsetWidth;\r\n    canvas.height = canvas.offsetHeight;\r\n    // console.log(canvas.width, canvas.height);\r\n    const cols = Math.floor(canvas.width / cellSize);\r\n    const rows = Math.floor(canvas.height / cellSize);\r\n    // console.log(cols, rows);\r\n    let grid = buildGrid(cols, rows);\r\n    gridRef.current = grid;\r\n\r\n    draw(context, grid);\r\n\r\n    function update() {\r\n      grid = generationUpdate(grid, cols, rows);\r\n      draw(context, grid);\r\n      gridRef.current = grid;\r\n    }\r\n\r\n    const updateInterval = setInterval(() => {\r\n      requestAnimationFrame(update);\r\n    }, updateSpeed);\r\n    intervalRef.current = updateInterval;\r\n\r\n    return () => clearInterval(updateInterval);\r\n  }, []);\r\n\r\n  function onStart() {\r\n    onStop();\r\n    const updateInterval = setInterval(() => {\r\n      requestAnimationFrame(update);\r\n    }, updateSpeed);\r\n    intervalRef.current = updateInterval;\r\n  }\r\n\r\n  function onStop() {\r\n    clearInterval(intervalRef.current);\r\n  }\r\n\r\n  return (\r\n    <div className=\"game\">\r\n      <canvas id=\"canvas\" ref={canvasRef} {...props} />\r\n      <p>Updates every {updateSpeed} ms.</p>\r\n      <Controls onStart={onStart} onStop={onStop} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Canvas;\r\n","import React from \"react\";\r\nimport Canvas from \"./Components/Canvas\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Conway's Game of Life</h1>\r\n      <Canvas />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./dist/css/main.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}