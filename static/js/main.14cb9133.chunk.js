(this.webpackJsonpgameoflife=this.webpackJsonpgameoflife||[]).push([[0],{13:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),a=n(7),o=n.n(a),i=(n(13),n(6)),u=n(8),l=n(3),s=n(0);var b=function(t){return Object(s.jsx)("button",{className:"btn ".concat(t.btnStyle," ").concat(t.btnSize," ").concat(t.btnColour," ").concat(t.btnClasses),onClick:t.onClick,children:t.text})};var f=function(t){return Object(s.jsxs)("div",{className:"controls",children:[Object(s.jsx)(b,{id:"button-start",btnStyle:"btn--round",btnSize:"btn--small",btnColour:"blue",text:"Start",btnClasses:t.dimStyle[0]?"btn--dim":"",onClick:t.onStart}),Object(s.jsx)(b,{id:"button-start",btnStyle:"btn--round",btnSize:"btn--small",btnColour:"blue",text:"Stop",btnClasses:t.dimStyle[1]?"btn--dim":"",onClick:t.onStop}),Object(s.jsx)(b,{id:"button-canvas-lines",btnStyle:"btn--round",btnSize:"btn--small",btnColour:"blue",text:"Toggle Lines",btnClasses:"",onClick:t.toggleStroke})]})};var j=function(t){var e=Object(r.useRef)(null),n=Object(r.useRef)(null),c=Object(r.useRef)(null),a=10,o="500",b=Object(r.useState)(0),j=Object(l.a)(b,2),d=j[0],h=j[1],v=Object(r.useState)(0),O=Object(l.a)(v,2),m=O[0],x=O[1],S=Object(r.useState)(!0),g=Object(l.a)(S,2),C=g[0],p=g[1],k=Object(r.useState)([!1,!1]),y=Object(l.a)(k,2),w=y[0],M=y[1];function R(t,e,n){for(var r=t.map((function(t){return Object(u.a)(t)})),c=0;c<n;c++)for(var a=0;a<e;a++){for(var o=0,i=-1;i<=1;i++)for(var l=-1;l<=1;l++)if(0!==i||0!==l){var s=a+i,b=c+l;s>=0&&s<e&&b>=0&&b<n&&(o+=t[b][s])}var f=t[c][a];1===f&&(o<2||o>3)?r[c][a]=0:0===f&&3===o&&(r[c][a]=1)}return r}var A=Object(r.useCallback)((function(t,e){for(var n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++){var c=e[n][r];t.fillStyle=c?"black":"white",t.fillRect(r*a,n*a,a,a),t.strokeStyle=C?"grey":"white",t.strokeRect(r*a,n*a,a,a)}}),[C]),E=Object(r.useCallback)((function(){var t=n.current,r=e.current,c=r.getContext("2d");t=R(t,Math.floor(r.width/a),Math.floor(r.height/a)),A(c,t),h((function(t){return t+1})),x(z(t)),n.current=t}),[A]);Object(r.useEffect)((function(){var t=e.current,r=t.getContext("2d");t.width=t.offsetWidth,t.height=t.offsetHeight;var i=Math.floor(t.width/a),u=Math.floor(t.height/a),l=function(t,e){return new Array(e).fill(null).map((function(){return new Array(t).fill(null).map((function(){return Math.floor(2*Math.random())}))}))}(i,u);function s(){l=R(l,i,u),A(r,l),h((function(t){return t+1})),x(z(l)),n.current=l}n.current=l,A(r,l);var b=setInterval((function(){requestAnimationFrame(s)}),o);return c.current=b,function(){return clearInterval(b)}}),[]);var I=Object(r.useCallback)((function(){N();var t=setInterval((function(){requestAnimationFrame(E)}),o);c.current=t,M([!0,!1])}),[E]);function N(){clearInterval(c.current),M([!1,!0])}function z(t){return t.reduce((function(t,e){return t.concat(e)})).reduce((function(t,e){return t+e}))}return Object(r.useEffect)((function(){I()}),[C,I]),Object(s.jsxs)("div",{className:"game",children:[Object(s.jsx)("canvas",Object(i.a)(Object(i.a)({id:"canvas",ref:e},t),{},{onClick:function(t){return function(t){var r=n.current,c=Math.floor(t.nativeEvent.offsetY/a),o=Math.floor(t.nativeEvent.offsetX/a);r[c][o]=r[c][o]?0:1,n.current=r,N();var i=e.current.getContext("2d");A(i,r)}(t)}})),Object(s.jsxs)("div",{className:"game-stat",children:[Object(s.jsxs)("p",{children:["Generation: ",d]})," ",Object(s.jsxs)("p",{children:["Population: ",m]})]}),Object(s.jsxs)("p",{children:["Updates every ",o," ms."]}),Object(s.jsx)(f,{onStart:I,onStop:N,toggleStroke:function(){p((function(t){return!t}))},dimStyle:w})]})};var d=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("h1",{children:"Conway's Game of Life"}),Object(s.jsxs)("h3",{children:["Read the rules on"," ",Object(s.jsx)("a",{href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life",children:"wikipedia"})]}),Object(s.jsx)(j,{})]})};o.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(d,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.14cb9133.chunk.js.map